setup_task:
  description: >
    Prepare the development environment for this feature.

    TASK:
    {{task}}

    REPO: {{repo}}
    BRANCH: {{branch}}

    Instructions:
    1. cd into the repo
    2. Create the feature branch (git checkout -b {{branch}})
    3. Read configuration files (package.json, pyproject, etc..), CI config, test config to understand the build/test setup
    4. Ensure .gitignore exists â€” if missing, create one appropriate for detected stack (must include .env, node_modules/, *.key, *.pem at minimum)
    5. Run the build to establish a baseline
    6. Run the tests to establish a baseline
    7. Report what you found
  expected_output: >
    Environment setup confirmation with build and test commands, and baseline status
  agent: setup

generate_result:
  description: >
    Format the setup output as a structured SetupOutput.
  expected_output: >
    Structured setup result with status, build_cmd, test_cmd, ci_notes, and baseline.
  agent: consolidator
